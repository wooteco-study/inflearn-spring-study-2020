## 강의 듣고 정리하기
- [백기선 스프랑 코어](https://www.inflearn.com/course/spring-framework_core)

### 강좌소개

### IoC 컨테이너 

BeanFactory?!

IoC 컨테이너란??
- 왜 의존성 주입을 해야하는가?
- 
빈이란??
- 라이프사이클 인터페이스
    - ex. @PostConstruct

ApplicationContext
- BeanFactory 외에도 여러가지 것들이 추가되어 있음
    - 무엇이 추가되어 있나요???!

ApplicationContext 와 다양한 빈 설정 방법

- xml 로 추가할 수 있다..! (ClassPathXmlApplicationContext)
    - 근데.. 귀찮다...
    - 그래서 component scan..!
        - 어노테이션을 통해서.....!! (AnnotationConfigApplicationContext -> java 코드)
        - 의존성 주입또한 어노테이션을 통해서 표시..!
        - basepackageClasses !
            - 해당 config 파일이 존재하는 곳부터 검색..!
                - 타입세이프하다..! (실수하기 어렵게)
    - 근데 설정파일이 필요하긴 하다
        - 왜?
        - 자바 코드로 설정파일을 만들기..!
            - 유연해진다..

- 컴포넌트 스캔
    - 
- 처음 구동시킬 때 오래걸릴 수 있음
    - 
    - 펑션을 통한 등록 (addInitializers)
        - 리플랙션이나 프록시는 느림
        - 다른 로직들이 들어갈 수 있음
- 문서에서 어떤 것들이 먼저 등록되는지 확인이 필요한 것 같다 (ex PostBeanFactory)

    
- 빈의 스코프
    - 싱글톤
        - 프로퍼티가 공유(필드 변수)
            - 공유될 수 있음... (동시에 사용될 때.. 주의 필요)
    - 프로토타입
        - @Scope
    - 의도에 맞지 않는 생성
        - 싱글톤 내부에 프로토타입이 존재할 때
            - 설정을 하지 않으면 내부의 프로토타입도 싱글콘처럼 동작(같은 인스턴스)
    - proxyMode (target_class -> cglib 프록시 적용)
        - 이렇게하면 내부 프로토타입도 변함
        - 아... 내부 프로토타입 클래스를 프록시로 감쌈..
            - 그래서 빈으로 등록된 이후에도.. 내가 원하는 작업을 해줄 수 있도록

- environment (프로파일) 
    - 왜 필요한지?
        - 프로파일과 프로퍼티를 다루는 인터페이스
        - dev, beta, real 등으로 사용하고 있을 수 있는데.. 각각이 원하는 (혹은 추가하고 싶은) 빈들이 다를 수 있기 때문
            - 테스트환경에서는 A라는 빈을 사용하고, 배포환경에서는 B라는 빈을 사용하고 싶다
            - 이 빈은 모니터링 용도니까 테스트할 때는 필요가 없고, 배포할 때만 등록이 되면 좋겠다
    - @Configuration or @Component
        - @Profile("프로파일 명")
            - 해당 프로파일로 실행할 때만 빈 설정이 적용됨
    - 프로파일 설정하기
        - activeProfiles 설정
        - -Dspring.profiles.active="사용할 프로파일 명"
    - 표현식 사용 가능
        - 오오... !, &, 
        - 문서를 보는 습관?
- property
    - 프로퍼티 파일에 들어있는 값을 가져오기
    - key, value 의 정보들
        - 여러종류로 부터 가져올 수 있음
            - vm options 도 있고..
            - .properties 파일 사용
                - @PropertySource
        - 각각의 우선순위??ㅋㅋㅋㅋ
    - @Value("${app.name}) 같은 문법이 이런거였구먼..
        - 스프링 부트 강좌를 봐야겠다...

- vm 옵션?? 오홍...
    - vm 띄울 때... 정보를 제공해주는 건가?? 

- MessageSource
    - 국제화를 위한 기능
        - 포비가 전에 보여주신게 기억나는구먼
- ApplicationEventPublisher
    - ApplicationListener 를 통해 구독
    - 옵저버 패턴 구현체 (이벤트 프로그래밍을 위함))
        - 등록된 빈 중에서 해당 이벤트를 구독하는 리스너가 동작함
    - 스프링 4.2 부터는 ApplicationEvent를 상속받지 않아도 전달하는 이벤트로 사용 가능
        - 그래야 스프링의 코드가.. 사용하는 코드에서 보이지 않음 (포조포조!)
    - 오호...
        - 구독자(EventListener) 도 상속받지 않아도 되도록 변경
            - @EventListener 를 이용함
                - 역시 포조..!
    - 동일한 이벤트에 대해서 여러개의 구독자가 존재할 경우
        - 핸들러가 동시에 동작하지는 않는 듯
            - 하나 끝나고 다른애가 처리
                - 동시에 적용되는 옵션은 없을랑가?
                    - 비동기로 하면됨..!
                    - @Async 를 적용
    - 스프링이 제공하는 기본 이벤트들
        - 
- ResourceLoader
    - 리소스를 읽어오기
        - 위치는 특정 접두어를 사용할 수 있음

- 느낀점
    - 강의를 준비할 때...
        - 무엇을 가지고 이야기를 할지를 정리해놓으셨다 (흐름))
            - 스터디에서 이야기할 때 혹은 팀에서 공유할게 있을 때... 따라해보면 어떨까?